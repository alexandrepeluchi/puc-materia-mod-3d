
#include <stdio.h>
#include <stdlib.h>
#include <GL/freeglut.h>

// Função que recebe a fonte e um texto por parâmetro para ser exibido na
// tela usando caracteres bitmap
void DesenhaTexto(void *font, char *string)
{
    // Exibe caractere a caractere
    while(*string)
        glutBitmapCharacter(GLUT_BITMAP_9_BY_15,*string++);
}

// Função que recebe a fonte e um texto por parâmetro para ser exibido na
// tela usando fonte de linhas
void DesenhaTextoStroke(void *font, char *string)
{
    // Exibe caractere a caractere
    while(*string)
    glutStrokeCharacter(GLUT_STROKE_ROMAN,*string++);
}

// Função callback de redesenho da janela de visualização
void Desenha(void)
{
// Limpa a janela de visualização com a cor de fundo definida
    glClear(GL_COLOR_BUFFER_BIT); // Define a cor para os textos: preto
    glColor3f(1,0,0); // Posiciona o texto stroke usando transformações geométricas
    glPushMatrix();
    glTranslatef(-50,0,0);
    glScalef(0.2, 0.2, 0.2); // diminui o tamanho do fonte
    //glRotatef(15, 0,0,1); // rotaciona o texto
    glLineWidth(2); // define a espessura da linha
    DesenhaTextoStroke(GLUT_STROKE_ROMAN,"Teste");
    glPopMatrix(); // Posição no universo onde o texto bitmap será colocado
    glColor3f(0,0,1);
    //glScalef(0.1, 0.1, 0.1); // diminui o tamanho do fonte
    //glRotatef(15, 0,0,1); // rotaciona o texto
    glRasterPos2f(-20,-20);
    DesenhaTexto(GLUT_BITMAP_9_BY_15,"OpenGl");
    // Exibe o desenha na janela
    glutSwapBuffers();
}

// Função callback chamada para gerenciar eventos de teclas
void Teclado (unsigned char key, int x, int y)
{
    if (key == 27)
    exit(0);
}

// Inicializa projeção
void Inicializa(void)
{
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    gluOrtho2D(-100,100,-100,100);
    glMatrixMode(GL_MODELVIEW); // Define a cor de fundo de tela como branca
    glClearColor(1.0f, 1.0f, 1.0f, 1.0f);
}// Programa Principal
int main ( int argc, char** argv )
{
    glutInit(&argc,argv);
    glutInitWindowSize(640,480);
    glutInitWindowPosition(10,10);
    glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB);
    glutCreateWindow("Interacao via Mouse"); // Registra a função callback de redesenho da janela de visualização
    glutDisplayFunc (Desenha); // Registra a função callback para tratamento das teclas ASCII
    glutKeyboardFunc (Teclado); // Inicialização
    Inicializa(); // Inicia o processamento e aguarda interações do usuário
    glutMainLoop(); return 0;
}
